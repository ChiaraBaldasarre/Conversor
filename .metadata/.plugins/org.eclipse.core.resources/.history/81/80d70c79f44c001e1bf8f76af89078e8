package conversor;

import javax.swing.JOptionPane;

import clases.Monedas;
import clases.Temperatura;

public class Conversor {

	public static void main(String[] args) {

		String[] tipo = { "Divisas", "Temperatura" };
		String eleccion = (String) JOptionPane.showInputDialog(null, "¿Qué tipo de conversión desea realizar?",
				"Conversiones", JOptionPane.YES_NO_CANCEL_OPTION, null, tipo, tipo[0]);

		if (eleccion == tipo[0]) {
			String[] divisa1 = { "USD", "EUR", "GBP", "JPY", "KRW", "ARS" };
			String origen = (String) JOptionPane.showInputDialog(null, "Elige la moneda que deseas convertir",
					"Divisa actual", JOptionPane.YES_NO_CANCEL_OPTION, null, divisa1, divisa1[0]);
			
			String[] divisa2 = { "USD", "EUR", "GBP", "JPY", "KRW", "ARS" };
			String destino = (String) JOptionPane.showInputDialog(null, "Elige la nueva moneda", "Divisa destino",
					JOptionPane.YES_NO_CANCEL_OPTION, null, divisa2, divisa2[1]);

			double cantidad = 0;
			boolean valido = false;

			while (!valido) {
				try {
					cantidad = Double.parseDouble(JOptionPane.showInputDialog(null,
							"Ingresa la cantidad de " + origen + " que desea convertir en " + destino,
							"Ingresa cantidad", 1));
					valido = true;
				} catch (NumberFormatException e) {
					JOptionPane.showMessageDialog(null, "Sólo valores numéricos", "Error",
							JOptionPane.ERROR_MESSAGE);
				}
			}
			
			Monedas moneda1 = new Monedas("", "", 0);
			switch (origen) {
			case "USD":
				moneda1 = dolar;
				break;
			case "EUR":
				moneda1 = euro;
				break;
			case "GBP":
				moneda1 = libra;
				break;
			case "JPY":
				moneda1 = yen;
				break;
			case "KRW":
				moneda1 = won;
				break;
			case "ARS":
				moneda1 = peso;
				break;
			}
			
			Monedas moneda2 = new Monedas("", "", 0);
			switch (destino) {
			case "USD":
				moneda2 = dolar;
				break;
			case "EUR":
				moneda2 = euro;
				break;
			case "GBP":
				moneda2 = libra;
				break;
			case "JPY":
				moneda2 = yen;
				break;
			case "KRW":
				moneda2 = won;
				break;
			case "ARS":
				moneda2 = peso;
				break;
			}

			double resultado = convertirMonedas(moneda1, moneda2, cantidad);

			String resultadoFormateado = String.format("%.2f", resultado);

			JOptionPane.showMessageDialog(null, cantidad + " " + origen + " convertidos en " + destino
					+ " da un total de " + resultadoFormateado + " " + destino, "Resultado", 1);

		} else if (eleccion == tipo[1]) {

			String[] distancia1 = { "KM", "M", "CM", "MM" };
			String origen = (String) JOptionPane.showInputDialog(null, "Elige la medida que deseas convertir",
					"Medida actual", JOptionPane.YES_NO_CANCEL_OPTION, null, distancia1, distancia1[0]);
			String[] distancia2 = { "KM", "M", "CM", "MM" };
			String destino = (String) JOptionPane.showInputDialog(null, "Elige la medida a la que deseas convertir",
					"Medida convertida", JOptionPane.YES_NO_CANCEL_OPTION, null, distancia2, distancia2[1]);

			double cantidad = 0;
			boolean valido = false;

			while (!valido) {
				try {
					cantidad = Double.parseDouble(JOptionPane.showInputDialog(null,
							"Ingresa la cantidad de " + origen + " que desea convertir en " + destino,
							"Ingresa cantidad", 1));
					valido = true;
				} catch (NumberFormatException e) {
					JOptionPane.showMessageDialog(null, "Ingresa solo valores numéricos", "Error",
							JOptionPane.ERROR_MESSAGE);
				}
			}
			
			Temperatura medida1 = new Temperatura("", "", 0);

			switch (origen) {
			case "KM":
				medida1 = kilometro;
				break;
			case "M":
				medida1 = metro;
				break;
			case "CM":
				medida1 = centimetro;
				break;
			case "MM":
				medida1 = milimetro;
				break;
			}
			
			Distancias medida2 = new Distancias("", "", 0);
			
			switch (destino) {
			case "KM":
				medida2 = kilometro;
				break;
			case "M":
				medida2 = metro;
				break;
			case "CM":
				medida2 = centimetro;
				break;
			case "MM":
				medida2 = milimetro;
				break;
			}

			double resultado = convertirDistancias(medida1, medida2, cantidad);

			String resultadoFormateado = String.format("%.2f", resultado);

			JOptionPane.showMessageDialog(null, cantidad + " " + origen + " convertidos en " + destino
					+ " da un total de " + resultadoFormateado + " " + destino, "Resultado", 1);

		}

		int respuesta = JOptionPane.showConfirmDialog(null, "¿Quieres hacer otra conversión?",
				"Selecciona una opción", JOptionPane.YES_NO_OPTION);

		if (respuesta == JOptionPane.NO_OPTION) {
			repetir = false;
		}

	}

	JOptionPane.showMessageDialog(null, "Creado por:\nChiara Baldasarre", "Creador", 1);

}

}